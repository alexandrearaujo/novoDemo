{"version":3,"sources":["newTipoFrequenciaActions.js"],"names":["ViewModelTipoFrequenciaNewEdit","prototype","formatHour","stringHours","date","Date","hoursAndMinusArray","split","setHours","setMinutes","setSeconds","console","log","toJSON","tipoFrequencia","ko","toJS","this","horarioInicial","clearDetalheTipoFrequencia","data","$tbody","$","lines","find","value","previousValue","attr","length","text","post","html","bootstrapTable","error","jqXHR","status","responseText","window","viewModelTipoFrequenciaNewEdit","val","applyBindings"],"mappings":"AAIAA,+BAA+BC,UAAUC,WAAa,SAASC,GAC9D,GAAIC,EACJ,IAAmB,IAAfD,GAAoC,MAAfA,EAAoB,CAC5CC,EAAO,GAAIC,KACX,IAAIC,GAAqBH,EAAYI,MAAM,IAC3CH,GAAKI,SAASF,EAAmB,IACjCF,EAAKK,WAAWH,EAAmB,IACnCF,EAAKM,WAAW,GAChBC,QAAQC,IAAIR,OAEZA,GAAO,EAER,OAAOA,IAGRJ,+BAA+BC,UAAUY,OAAS,WACjDF,QAAQC,IAAI,mBACT,IAAIE,GAAiBC,GAAGC,KAAKC,KAG7B,OAFAH,GAAeI,eAAiBD,KAAKf,WAAWe,KAAKC,gBACrDP,QAAQC,IAAIE,EAAeI,gBACpBJ,GAIXd,+BAA+BC,UAAUkB,2BAA6B,WAErE,GAAIC,GAAOL,GAAGF,OAAOI,MACjBI,EAASC,EAAE,SACXC,EAAQF,EAAOG,KAAK,MACpBC,EAAQR,KAAKC,iBACbQ,EAAgBJ,EAAE,mBAAmBK,KAAK,uBAAuBpB,MAAM,KAAK,GAAG,IAAIe,EAAE,mBAAmBK,KAAK,uBAAuBpB,MAAM,KAAK,EAEhJmB,IAAiBT,KAAKC,kBAA8B,MAATK,IAAkC,GAAhBA,EAAMK,QAA+B,iBAAhBL,EAAMM,QAA6BN,EAAMK,OAAS,IACrIN,EAAEQ,KACA,+CAAgDV,EAChD,SAASA,GACTT,QAAQC,IAAI,0BACZD,QAAQC,IAAIQ,GACVE,EAAE,+BAA+BS,KAAKX,GACtCE,EAAE,mBAAmBU,iBACrBV,EAAE,mBAAmBK,KAAK,sBAAsBF,KAEnDQ,MAAO,SAAUC,EAAOC,EAAQF,GAChCtB,QAAQC,IAAIsB,EAAME,cAClBzB,QAAQC,IAAIuB,GACZxB,QAAQC,IAAIqB,MAOhBI,OAAOC,+BAAiC,GAAItC,gCACzBsB,EAAE,OAAOiB,MACTjB,EAAE,mBAAmBiB,MACrBjB,EAAE,kBAAkBiB,MACpBjB,EAAE,yBAAyBiB,MAC3BjB,EAAE,mBAAmBiB,OAGxCxB,GAAGyB,cAAcH,OAAOC","file":"newTipoFrequenciaActions.js","sourcesContent":["/**\r\n * Begin Actions for New/Edit\r\n */\r\n\r\nViewModelTipoFrequenciaNewEdit.prototype.formatHour = function(stringHours){\r\n\tvar date;\r\n\tif( stringHours != '' && stringHours != null){\r\n\t\tdate = new Date();\r\n\t\tvar hoursAndMinusArray = stringHours.split(':');\r\n\t\tdate.setHours(hoursAndMinusArray[0]);\r\n\t\tdate.setMinutes(hoursAndMinusArray[1]);\r\n\t\tdate.setSeconds(00);\r\n\t\tconsole.log(date);\r\n\t}else\r\n\t\tdate = '';\r\n\t\r\n\treturn date;\r\n}\r\n\r\nViewModelTipoFrequenciaNewEdit.prototype.toJSON = function(){\r\n\tconsole.log('toJSON prototype');\r\n    var tipoFrequencia = ko.toJS(this);\r\n    tipoFrequencia.horarioInicial = this.formatHour(this.horarioInicial);\r\n    console.log(tipoFrequencia.horarioInicial);\r\n    return tipoFrequencia; \r\n};\r\n\r\n\r\nViewModelTipoFrequenciaNewEdit.prototype.clearDetalheTipoFrequencia = function(){\r\n\t\r\n\tvar data = ko.toJSON(this);\r\n\tvar $tbody = $('tbody');\r\n\tvar lines = $tbody.find('tr');\r\n\tvar value = this.horarioInicial();\r\n\tvar previousValue = $('#horarioInicial').attr('data-previous-value').split(':')[0]+':'+$('#horarioInicial').attr('data-previous-value').split(':')[1];\r\n\r\n\tif(previousValue != this.horarioInicial() && (lines != null && (lines.length == 1 && lines.text() != \"Sem Registro \" || lines.length > 1) )){\r\n\t\t $.post(\r\n\t\t\t\t '/estratificacao/tipoFrequencia/clearDetalhes', data, \r\n\t\t\t\t function(data) {\r\n\t\t\t\t\tconsole.log('back do clearDetalhes!');\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t  \t\t$('#detalheTipoFrequenciaTable').html(data);\r\n\t\t\t  \t\t$('#bootstrapTable').bootstrapTable();\r\n\t\t\t  \t\t$('#horarioInicial').attr('data-previous-value',value);\r\n\t\t\t})\r\n\t\t\t.error( function (jqXHR, status, error) {\r\n\t\t\t\tconsole.log(jqXHR.responseText);\r\n\t\t\t\tconsole.log(status),\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t });\r\n\t}\r\n}\r\n\r\n\r\n\r\nwindow.viewModelTipoFrequenciaNewEdit = new ViewModelTipoFrequenciaNewEdit(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#id').val(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#descFrequencia').val(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#periodicidade').val(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#descImpressaoReceita').val(), \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#horarioInicial').val()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\nko.applyBindings(window.viewModelTipoFrequenciaNewEdit);"],"sourceRoot":"/source/"}